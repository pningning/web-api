<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 100px;
				height: 100px;
				background: red;
				position: absolute;
				left: 100px;
				top: 100px;
			}
		</style>
	</head>
	<body>
		<input type="button" value="单击向前走" />
		<input type="button" value="单击向回走" />
		<div id="box"></div>
	</body>
	<script type="text/javascript">
		
		var oBox = document.getElementById("box");
		var aInp = document.getElementsByTagName("input");
		//设置一个变量　　用来存定时器
		var timer = null;
		
		aInp[0].onclick = function() {
			move(7,800);
		}
		 //              速度      目标点
		function move(speed,target) {
			// 再开新的定时器之前 先将旧的定时器清除 保证页面上只有一个定时器
			clearInterval(timer);
			timer = setInterval(function() {
				var dis = oBox.offsetLeft + speed; // 7  -7
				// 往前走的判断   
				
				/*if(dis >= target&&speed > 0) {//100>=800
					dis  = target;
				}
				//往回走的判断                      800==>100
				if( dis <= target&&speed < 0) {//107<=  800
					dis  = target;
				}*/
				if(dis >= target&&speed > 0|| dis <= target&&speed < 0) {//100>=800
					dis  = target;
				}
				
				oBox.style.left = dis + "px";
				if(dis == target) {
					clearInterval(timer);
					timer = null;
				}
			},30);
			
		}
		// 往回走
		
		aInp[1].onclick = function() {
			/*clearInterval(timer);
			timer = setInterval(function() {
				var dis = oBox.offsetLeft - 7;
				if( dis <= 100) {
					dis  = 100;
				}
				
				oBox.style.left = dis + "px";
				if(dis == 100) {
					clearInterval(timer);
					timer = null;
				}
			},30);*/
			move(-7,100);
		}
	</script>
</html>
