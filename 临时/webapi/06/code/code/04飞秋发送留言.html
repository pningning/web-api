<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 516px;
				height: 498px;
				background:url(bj.jpg);
				margin: 20px auto 0;
				position: relative;
			}
			#oUl {
				width: 285px;
				height: 285px;
				position: absolute;
				left: 0px;
				top: 68px;
				list-style: none;
				margin-left: 0;
			}
			#text {
				width: 320px;
				height: 80px;
				position: absolute;
				left: 0;
				bottom: 20px;
				outline: none;
				border:none;
			}
			#btn {
				position: absolute;
				right: 210px;
			    bottom: 19px;
			    height: 20px;
			}
			#oSel {
				position: absolute;
				bottom: 20px;
			    right: 190px;
			    width: 20px;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<ul id="oUl">
				
			</ul>
			<textarea id="text"></textarea>
			<input type="button" value="发送" id="btn" />
			<select id="oSel">
				<option value="e">按下enter发送</option>
				<option value="c">按下ctrl+enter发送</option>
			</select>
		</div>
	</body>
	<script type="text/javascript">
		function $(id) {
			return document.getElementById(id);
		}
		//单击发送按钮  让写的文本域中的文字 放入上面ul中
		
		// 1 获取相关元素
		var oUl = $("oUl");
		var oText = $("text");
		var oSel = $("oSel");
		var oBtn = $("btn");
		
		//2 给按钮加单击事件
		oText.focus();
		oBtn.onclick = function() {
			core();
		}
		
		function core() {
			if(oText.value==="") {
				return alert("请您输入内容");
			}
			oUl.innerHTML += "<li>"+ oText.value +"</li>";
			oText.value = "";
			oText.focus();
		}
		
		//按下回车或者ctrl+回车 将文字发送上去
		//给整个文档下键盘事件
		document.onkeydown = function(e) {
			e = e || event;
			console.log(e.keyCode);//13
			// 按下回车键 但是不能按下ctrl
			if(e.keyCode==13&&!e.ctrlKey) {
				if(oSel.value=="e") {// 说明选择的是第一个option
					core()
				}
			}
			// 按下回车键和ctrl
			if(e.keyCode==13&&e.ctrlKey) {
				if(oSel.value == "c") {
					core();
				}
			}
		}
	</script>
</html>
